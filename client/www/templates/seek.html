<ion-view view-title="Cosa cerchi?">
    <ion-content>
        <form ng-submit="doSeek()" novalidate>
            <div class="list">
                <label class="item item-input item-floating-label">
                    <span class="input-label">Titolo</span>
                    <input type="text" placeholder="Titolo" ng-model="seekData.title" required>
                </label>
                <label class="item item-input item-floating-label">
                    <span class="input-label">Descrizione</span>
                    <textarea placeholder="Descrizione" ng-model="seekData.description" required></textarea>
                </label>
                <label class="item item-input item-select">
                    <span class="input-label">Categoria</span>
                    <select ng-model="seekData.category" required>
                        <option ng-repeat="category in categories" value="{{category.id}}">{{category.name}}</option>
                    </select>
                </label>
                <div class="item range range-positive">
                    <i class="icon ion-android-wifi"></i>
                    <input ng-model="seekData.radius" ng-disabled="seekData.homeDelivery" type="range" name="range" min="5" max="100" value="1">
                    <span>{{seekData.radius / 2 || 1}} km</span>
                </div>
                <div class="item range range-positive">
                    <i class="icon ion-clock"></i>
                    <input ng-model="seekData.duration" type="range" name="range" min="1" max="48" value="1">
                    <span>{{seekData.duration || 1}} h</span>
                </div>
                <div class="item item-checkbox">
                    <label class="checkbox">
                        <input ng-model="seekData.homeDelivery" ng-change="fixRadiusInput()" type="checkbox">
                    </label>
                    Consegna a domicilio
                </div>
                <label class="item">
                    <button class="button button-block icon ion-location" type="button" ng-click="getGPS()"> Ottieni posizione GPS</button>
                </label>
                <label ng-show="spinning" class="item centered">
                    <ion-spinner></ion-spinner>
                </label>
                <div ng-show="gpsFound" class="item item-image">
                    <img ng-src="http://maps.googleapis.com/maps/api/staticmap?center={{seekData.lat}},{{seekData.lon}}&zoom=14&size=400x300&markers=color:red|{{seekData.lat}},{{seekData.lon}}">
                </div>
                <label class="item">
                    <button class="button button-block button-positive" type="submit">Pubblica annuncio</button>
                </label>
            </div>
        </form>
    </ion-content>
</ion-view>